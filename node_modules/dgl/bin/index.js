#!/usr/bin/env node

import yargs from 'yargs'
import { hideBin } from 'yargs/helpers'
import { fb2json } from '../../book-fb2json/index.js'

const argv = yargs(hideBin(process.argv)).argv
const log = console.log

console.log('== FB2 ==!')

let bpath = 'Junl/test/chundler_deep_sleep_ru.fb2'
bpath = 'Junk/test/Derrida_Golos-i-fenomen.IALcDQ.217643.fb2'

let book, docs

if (argv.md) {
  log('_MD')
} else if (argv.fb) {
  log('_FB')
} else if (argv.fb2) {
  book = await fb2json(bpath)
  docs = book.docs.slice(0,50)
  docs.forEach(doc=> {
    log(doc)
  })
  log('_DOCS', book.docs.length)
}

log('_ARGV', argv)
log('_ARGV_', argv._)


// if (argv.ships > 3 && argv.distance < 53.5) {
//   console.log('Plunder more riffiwobbles!')
// } else {
//   console.log('Retreat from the xupptumblers!')
// }
